- this package uses the a python script and the c preprocessor to build a
complete mapfile from a set of templates and styling information.

- use the branch corresponding to your mapserver version, e.g.
 - branch-6-2 for mapserver versions 6.2.X
 - master for development (unreleased) mapserver versions

- the build process uses the gcc preprocessor extensively, you should have it installed on your
system. On linux, check that the 'cpp' command is present. On OSX, the provided 'cpp' program is a shell
wrapper that is not suitable: the Makefile is coded to call 'cpp-4.2', which you can change in case
you have another version installed.

- The mapfiles rely on the database schema as created by a recent version of imposm. Until recently
imposm did not create the landusages_gen and waterareas_gen tables. Since 2.3.0 this is not the case anymore.
If you do not have the generalized tables, you can change the landusage_data and waterareas_data entries in
generate_style.py so that it queries the non-generalized
tables on the lower zoom levels (this will be slower for the lower zoom levels).

- The generated mapfile can also be made to query an osm database created with osm2pgsql rather than imposm.
This setup is not recommended as it will be much slower. To use the osm2pgsql schema, you should add the 'osm2pgsql'
entry to the list of styles for an entry of style_aliases near the end of generate_style.py, e.g:
   "bingosm2pgsql":"default,outlined,bing,osm2pgsql"

then run `make STYLE=bingosm2pgsql` to create the osm-bingosm2pgsql.map

- Most configuration and tweaks should be done in generate_style.py.
documentation as to how to edit generate_style.py to adapt the rendering has yet to be done, but is simple.
check https://github.com/mapserver/mapserver/wiki/RenderingOsmDataOnUbuntuv2 for a preliminary tutorial.

## Install basemaps mapfile generator

### Using the modified OpenGeoGroep release from Github:
```bash
  git clone https://github.com/opengeogroep/basemaps.git
  cd basemaps

... Update basemaps' osmbase.map and Makefile as follows:
  vi osm-base.map
-------------------8<------------------------
  WEB
...
    IMAGEPATH "/tmp/ms_tmp/"
    IMAGEURL "/ms_tmp/"
 END
...
-------------------->8-----------------------

  vi Makefile
-------------------8<------------------------
OSM_SRID=3857
OSM_UNITS=meters
OSM_EXTENT=-20000000 -20000000 20000000 20000000
...
STYLE=google
-------------------->8-----------------------
```
 * With trunk, the '''STYLE''' parameter possible values are the keys of the style_aliases hash, which can be found in the generate_style.py file.  For example: google
 * Create MapServer temp dirs (required by mapserv CGI for testing with openlayers template)

```bash
  mkdir /tmp/ms_tmp
  chmod 777 /tmp/ms_tmp
```
 * Initialize the data and generated folder. You only need to do this once. It may take a while to download everything.

```bash
  cd data
  make
```

 * Execute the basemaps makefile to generate the mapfile.

```bash
  cd ..
  make
```
